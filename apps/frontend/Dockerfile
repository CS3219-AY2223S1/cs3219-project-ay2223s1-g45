FROM node:16
ARG REACT_APP_URI_USER_SVC_ARG
ARG REACT_APP_URI_MATCHING_SVC_ARG
ARG REACT_APP_URI_COMMUNICATION_SVC_ARG
ARG REACT_APP_URI_QUESTION_SVC_ARG
WORKDIR /usr/app
ENV REACT_APP_URI_USER_SVC=${REACT_APP_URI_USER_SVC_ARG}
ENV REACT_APP_URI_MATCHING_SVC=${REACT_APP_URI_MATCHING_SVC_ARG}
ENV REACT_APP_URI_COMMUNICATION_SVC=${REACT_APP_URI_COMMUNICATION_SVC_ARG}
ENV REACT_APP_URI_QUESTION_SVC=${REACT_APP_URI_QUESTION_SVC_ARG}
COPY package.json ./
COPY tsconfig.json ./
RUN ls -a
RUN npm install
COPY . .
EXPOSE 3000
CMD ["npm", "run", "start"]